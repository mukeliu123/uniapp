{"version":3,"sources":[null,"webpack:///D:/hub-idea/HubPro/uniapp-02/components/my-calendar/my-calendar.vue?a8fc","webpack:///D:/hub-idea/HubPro/uniapp-02/components/my-calendar/my-calendar.vue?839a","webpack:///D:/hub-idea/HubPro/uniapp-02/components/my-calendar/my-calendar.vue?7275","uni-app:///components/my-calendar/my-calendar.vue","webpack:///D:/hub-idea/HubPro/uniapp-02/components/my-calendar/my-calendar.vue?d95b","webpack:///D:/hub-idea/HubPro/uniapp-02/components/my-calendar/my-calendar.vue?dec0"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACc;;;AAGxE;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnFA;AAAA;AAAA;AAAA;AAAwmB,CAAgB,qnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2D5nB,oE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBAGA,EACA,mBADA,EAEA,SACA,WACA,YADA,EAEA,8BACA,SACA,sBADA,EAEA,eAFA,EAGA,wBAHA,CAGA;AAHA,UAKA,CARA,EADA,EAFA,EAcA,IAdA,kBAcA,CACA,SACA,0CADA,EAEA,YAFA,EAGA,YAHA,EAIA,iBAJA,EAKA,WACA,sBADA,EALA,EAQA,SACA,YADA,EAEA,UAFA,EAGA,cAHA,EAIA,YAJA,EARA,GAeA,CA9BA,EA+BA,OA/BA,qBA+BA,CACA,gDACA,uCACA,wEACA,CAFA,MAGA,qCACA,qBACA,CACA,oDACA,CAxCA,EAyCA,WACA;AACA,kBAFA,0BAEA,CAFA,EAEA,CACA,gBACA,yBAFA,CAEA;AACA,uCAHA,CAGA;AACA,qCAJA,CAIA;AACA,sBALA,CAMA;AACA,mCACA,yCACA,2CACA,yCACA,CACA,uBACA,2BACA,CAhBA,EAiBA;AACA,oBAlBA,4BAkBA,IAlBA,EAkBA,kBACA,uCACA,gEACA;AACA;AACA,SAFA,EAEA,CAFA;AAGA,OALA,MAKA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAFA;AAGA;AACA;AACA;AACA,eARA;AASA;AACA;AACA;AACA;AACA;AACA,iBAHA;AAIA;AACA;AACA,WA3BA;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA,SAnCA;AAoCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KA9EA;AA+EA;AACA,oBAhFA,4BAgFA,IAhFA,EAgFA,KAhFA,EAgFA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,yBAFA;AAGA,2BAHA;AAIA,iCAJA;AAKA,+BALA;AAMA,2BANA;AAOA,+BAPA;AAQA,mCARA;AASA,mCATA;;AAWA,OAZA;AAaA;AACA;AACA,uBADA;AAEA,yBAFA;AAGA,2BAHA;AAIA,iCAJA;AAKA,+BALA;AAMA,8BANA;AAOA,+BAPA;AAQA,mCARA;AASA,mCATA;;AAWA,OAZA;AAaA;AACA;AACA,uBADA;AAEA,yBAFA;AAGA,2BAHA;AAIA,iCAJA;AAKA,+BALA;AAMA,2BANA;AAOA,+BAPA;AAQA,mCARA;AASA,mCATA;;AAWA,OAZA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA,kBADA;AAEA,oBAFA;AAGA,4BAHA;;AAKA,KAjJA;AAkJA;AACA,0BAnJA,kCAmJA,KAnJA,EAmJA,cAnJA,EAmJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1JA;AA2JA;AACA,wBA5JA,gCA4JA,KA5JA,EA4JA,cA5JA,EA4JA;AACA;AACA;AACA;AACA;AACA;AACA,KAlKA;AAmKA;AACA,cApKA,sBAoKA,IApKA,EAoKA;AACA;AACA,KAtKA;AAuKA;AACA,iBAxKA,yBAwKA,IAxKA,EAwKA,KAxKA,EAwKA;AACA;AACA;AACA;AACA;AACA,wBADA;;AAGA,OAJA;AAKA;AACA;AACA,gBADA;AAEA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAhBA;AAiBA;AACA,KAlMA;AAmMA;AACA,cApMA,sBAoMA,IApMA,EAoMA,KApMA,EAoMA;AACA;AACA;AACA,KAvMA;AAwMA;AACA,qBAzMA,6BAyMA,IAzMA,EAyMA,KAzMA,EAyMA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA/MA;AAgNA;AACA,qBAjNA,6BAiNA,IAjNA,EAiNA,KAjNA,EAiNA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAvNA;AAwNA;AACA,cAzNA,sBAyNA,IAzNA,EAyNA,KAzNA,EAyNA,GAzNA,EAyNA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAjOA,EAzCA,E;;;;;;;;;;;;AC9DA;AAAA;AAAA;AAAA;AAAmnC,CAAgB,qkCAAG,EAAC,C;;;;;;;;;;;ACAvoC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/my-calendar/my-calendar.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./my-calendar.vue?vue&type=template&id=4c963cf8&\"\nvar renderjs\nimport script from \"./my-calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./my-calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./my-calendar.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/my-calendar/my-calendar.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my-calendar.vue?vue&type=template&id=4c963cf8&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l2 =\n    _vm.componentType == \"traffic\"\n      ? _vm.__map(_vm.dateList, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var l1 = _vm.__map(item.dateTemplate, function(child, childIndex) {\n            var $orig = _vm.__get_orig(child)\n\n            var l0 = _vm.__map(child, function(grand, grandIndex) {\n              var $orig = _vm.__get_orig(grand)\n\n              var m0 =\n                grand.monthType == \"current\"\n                  ? _vm.judgeToday(grand.year, grand.month, grand.day)\n                  : null\n              return {\n                $orig: $orig,\n                m0: m0\n              }\n            })\n\n            return {\n              $orig: $orig,\n              l0: l0\n            }\n          })\n\n          return {\n            $orig: $orig,\n            l1: l1\n          }\n        })\n      : null\n  var l5 =\n    _vm.componentType == \"hotel\"\n      ? _vm.__map(_vm.dateList, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var l4 = _vm.__map(item.dateTemplate, function(child, childIndex) {\n            var $orig = _vm.__get_orig(child)\n\n            var l3 = _vm.__map(child, function(grand, grandIndex) {\n              var $orig = _vm.__get_orig(grand)\n\n              var m1 =\n                grand.monthType == \"current\"\n                  ? _vm.judgeToday(grand.year, grand.month, grand.day)\n                  : null\n              return {\n                $orig: $orig,\n                m1: m1\n              }\n            })\n\n            return {\n              $orig: $orig,\n              l3: l3\n            }\n          })\n\n          return {\n            $orig: $orig,\n            l4: l4\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l2: l2,\n        l5: l5\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my-calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my-calendar.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- 日历 -->\r\n\t<view class=\"my-calendar\">\r\n\t\t<view class=\"weeks\">\r\n\t\t\t<view class=\"weeks-item\" v-for=\"(item, index) in weeks\" :key=\"index\">\r\n\t\t\t\t<text>{{item}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"month\">\r\n\t\t\t<!-- 交通 -->\r\n\t\t\t<tempalte v-if=\"componentType == 'traffic'\">\r\n\t\t\t\t<view  class=\"month-item\" v-for=\"(item, index) in dateList\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"item-title\">{{item.year}}年{{item.month+1<10?'0'+(item.month+1) : item.month+1}}月</view>\r\n\t\t\t\t\t<view class=\"item-list\">\r\n\t\t\t\t\t\t<view class=\"list-row\" v-for=\"(child, childIndex) in item.dateTemplate\" :key=\"childIndex\">\r\n\t\t\t\t\t\t\t<view class=\"row-item\" v-for=\"(grand, grandIndex) in child\" :key=\"grandIndex\" @click=\"checkCurrentItem(grand)\">\r\n\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\tclass=\"row-item-inner\" \r\n\t\t\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\t\t\t'no-work-day':grand.weekType == 2,\r\n\t\t\t\t\t\t\t\t\t'check-day':traffic.checkDateTimeStamp && traffic.checkDateTimeStamp == grand.timeStamp}\" \r\n\t\t\t\t\t\t\t\tv-if=\"grand.monthType == 'current'\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"day\">{{judgeToday(grand.year,grand.month, grand.day) ? '今天' : grand.day}}</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"cnDay\">{{grand.cnIdDay == '初一' ? grand.cnIdMonth : grand.cnIdDay}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</tempalte>\r\n\t\t\t<!-- 酒店 -->\r\n\t\t\t<template v-if=\"componentType == 'hotel'\">\r\n\t\t\t\t<view class=\"month-item\" v-for=\"(item, index) in dateList\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"item-title\">{{item.year}}年{{item.month+1<10?'0'+(item.month+1) : item.month+1}}月</view>\r\n\t\t\t\t\t<view class=\"item-list\">\r\n\t\t\t\t\t\t<view class=\"list-row\" v-for=\"(child, childIndex) in item.dateTemplate\" :key=\"childIndex\">\r\n\t\t\t\t\t\t\t<view class=\"row-item\" v-for=\"(grand, grandIndex) in child\" :key=\"grandIndex\" @click=\"checkCurrentItem(grand)\">\r\n\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\tclass=\"row-item-inner\" \r\n\t\t\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\t\t\t'no-work-day':grand.weekType == 2,\r\n\t\t\t\t\t\t\t\t\t'hotel-start':grand.timeStamp == hotel.startStamp,\r\n\t\t\t\t\t\t\t\t\t'hotel-end':grand.timeStamp == hotel.endStamp,\r\n\t\t\t\t\t\t\t\t\t'hotel-section':grand.sectionLight\r\n\t\t\t\t\t\t\t\t}\" \r\n\t\t\t\t\t\t\t\tv-if=\"grand.monthType == 'current'\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"day\">{{judgeToday(grand.year,grand.month, grand.day) ? '今天' : grand.day}}</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"cnDay\">{{grand.cnIdDay == '初一' ? grand.cnIdMonth : grand.cnIdDay}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tcalendar\r\n\t} from '@/utils/calendar.js'\r\n\texport default {\r\n\t\tname: 'my-calendar',\r\n\t\tprops: {\r\n\t\t\toptions: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tcheckDateTimeStamp:'',\r\n\t\t\t\t\t\tshowMonthNum: 2,\r\n\t\t\t\t\t\tcomponentType:'traffic', // traffic 交通 / hotel 酒店\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tweeks: ['日', '一', '二', '三', '四', '五', '六'],\r\n\t\t\t\tdateList: [],\r\n\t\t\t\tdateNode:[],\r\n\t\t\t\tcomponentType:'',\r\n\t\t\t\ttraffic:{\r\n\t\t\t\t\tcheckDateTimeStamp:''\r\n\t\t\t\t},\r\n\t\t\t\thotel:{\r\n\t\t\t\t\tstart:false,\r\n\t\t\t\t\tend:false,\r\n\t\t\t\t\tstartStamp:'',\r\n\t\t\t\t\tendStamp:''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.componentType = this.options.componentType;\r\n\t\t\tif(this.componentType === 'traffic'){\r\n\t\t\t\tthis.traffic.checkDateTimeStamp = this.options.checkDateTimeStamp || '';\r\n\t\t\t} \r\n\t\t\telse if(this.componentType === 'hotel'){\r\n\t\t\t\tconsole.log('hotel');\r\n\t\t\t}\r\n\t\t\tthis.renderCalendar(this.options.showMonthNum || 2);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//初始化当前日历组件\r\n\t\t\trenderCalendar(n) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet nowDate = new Date(); //获取当前日期\r\n\t\t\t\tlet year = nowDate.getFullYear(); //获取当前年份\r\n\t\t\t\tlet month = nowDate.getMonth(); //获取当前月份\r\n\t\t\t\tlet months = [];\r\n\t\t\t\t//循环n个月的数据\r\n\t\t\t\tfor (let i = 0; i < n; i++) {\r\n\t\t\t\t\tlet y = month + i > 11 ? year + 1 : year;\r\n\t\t\t\t\tlet m = month + i > 11 ? (i - 1) : month + i;\r\n\t\t\t\t\tmonths.push(that.getMonthCalendar(y, m));\r\n\t\t\t\t}\r\n\t\t\t\tthis.dateList = months;\r\n\t\t\t\tconsole.log(this.dateNode);\r\n\t\t\t},\r\n\t\t\t//选中当前日期\r\n\t\t\tcheckCurrentItem(item){\r\n\t\t\t\tif(this.componentType === 'traffic'){\r\n\t\t\t\t\tlet times = new Date(item.year, item.month, item.day).getTime();\r\n\t\t\t\t\tsetTimeout(_=>{\r\n\t\t\t\t\t\tthis.$emit('sendTimeStamp',times);\r\n\t\t\t\t\t}, 0);\r\n\t\t\t\t} else{\r\n\t\t\t\t\tthis.dateNode.forEach(t=>{\r\n\t\t\t\t\t\tt.sectionLight = false;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(!this.hotel.start && !this.hotel.end){\r\n\t\t\t\t\t\tthis.hotel.start = true;\r\n\t\t\t\t\t\tthis.hotel.startStamp = item.timeStamp;\r\n\t\t\t\t\t\tthis.hotel.end = false;\r\n\t\t\t\t\t\tthis.hotel.endStamp = '';\r\n\t\t\t\t\t} \r\n\t\t\t\t\telse if(this.hotel.start && !this.hotel.end){\r\n\t\t\t\t\t\tif(item.timeStamp>this.hotel.startStamp){\r\n\t\t\t\t\t\t\tthis.hotel.start = true;\r\n\t\t\t\t\t\t\tthis.hotel.end = true;\r\n\t\t\t\t\t\t\tthis.hotel.startStamp = this.hotel.startStamp;\r\n\t\t\t\t\t\t\tthis.hotel.endStamp = item.timeStamp;\r\n\t\t\t\t\t\t\tif(this.hotel.start && this.hotel.end){\r\n\t\t\t\t\t\t\t\tlet startIndex = null;\r\n\t\t\t\t\t\t\t\tlet endIndex = null;\r\n\t\t\t\t\t\t\t\tconsole.log(this.hotel.startStamp);\r\n\t\t\t\t\t\t\t\tconsole.log(this.hotel.endStamp);\r\n\t\t\t\t\t\t\t\tthis.dateNode.forEach((t, index)=>{\r\n\t\t\t\t\t\t\t\t\tconsole.log(t.day + '--------' + t.timeStamp);\r\n\t\t\t\t\t\t\t\t\tif(t.timeStamp == this.hotel.startStamp){\r\n\t\t\t\t\t\t\t\t\t\tstartIndex = index;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse if(t.timeStamp == this.hotel.endStamp){\r\n\t\t\t\t\t\t\t\t\t\tendIndex = index;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tif(startIndex && endIndex && endIndex>startIndex){\r\n\t\t\t\t\t\t\t\t\tlet arr = this.dateNode.slice(startIndex+1, endIndex);\r\n\t\t\t\t\t\t\t\t\tarr.forEach(t=>{\r\n\t\t\t\t\t\t\t\t\t\tt.sectionLight = true;\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(t.day);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tthis.hotel.start = true;\r\n\t\t\t\t\t\t\tthis.hotel.startStamp = item.timeStamp;\r\n\t\t\t\t\t\t\tthis.hotel.end = false;\r\n\t\t\t\t\t\t\tthis.hotel.endStamp = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} \r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthis.hotel.start = true;\r\n\t\t\t\t\t\tthis.hotel.end = false;\r\n\t\t\t\t\t\tthis.hotel.startStamp = item.timeStamp;\r\n\t\t\t\t\t\tthis.hotel.endStamp = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//得到对应月份日历数据\r\n\t\t\tgetMonthCalendar(year, month) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\t//生成日历数据，上个月剩下的 X 天 + 当月的28（平年的2月）或者29（闰年的2月）或者30或者31天 + 下个月的天数 = 35； \r\n\t\t\t\tlet monthArr = [];\r\n\t\t\t\tlet prevMonth = that.getPrevMonthCount(year, month).map(item => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tday: item.day,\r\n\t\t\t\t\t\tyear: item.year,\r\n\t\t\t\t\t\tmonth: item.month,\r\n\t\t\t\t\t\tweekType: item.weekType,\r\n\t\t\t\t\t\tweekDay: item.weekDay,\r\n\t\t\t\t\t\tmonthType: 'prev',\r\n\t\t\t\t\t\tcnIdDay: item.cnIdDay,\r\n\t\t\t\t\t\tcnIdMonth: item.cnIdMonth,\r\n\t\t\t\t\t\ttimeStamp:item.timeStamp\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tlet currentMonth = that.getMonthCount(year, month).map(item => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tday: item.day,\r\n\t\t\t\t\t\tyear: item.year,\r\n\t\t\t\t\t\tmonth: item.month,\r\n\t\t\t\t\t\tweekType: item.weekType,\r\n\t\t\t\t\t\tweekDay: item.weekDay,\r\n\t\t\t\t\t\tmonthType: 'current',\r\n\t\t\t\t\t\tcnIdDay: item.cnIdDay,\r\n\t\t\t\t\t\tcnIdMonth: item.cnIdMonth,\r\n\t\t\t\t\t\ttimeStamp:item.timeStamp\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tlet nextMonth = that.getNextMonthCount(year, month).map(item => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tday: item.day,\r\n\t\t\t\t\t\tyear: item.year,\r\n\t\t\t\t\t\tmonth: item.month,\r\n\t\t\t\t\t\tweekType: item.weekType,\r\n\t\t\t\t\t\tweekDay: item.weekDay,\r\n\t\t\t\t\t\tmonthType: 'next',\r\n\t\t\t\t\t\tcnIdDay: item.cnIdDay,\r\n\t\t\t\t\t\tcnIdMonth: item.cnIdMonth,\r\n\t\t\t\t\t\ttimeStamp:item.timeStamp\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t//这里当 whereMonday 为 0 的时候会截取上月的所有数据\r\n\t\t\t\tlet whereMonday = that.getWeekDay(year, month);\r\n\t\t\t\t// if (whereMonday === 0) {\r\n\t\t\t\t// \twhereMonday = 7;\r\n\t\t\t\t// }\r\n\t\t\t\tlet prevNum = whereMonday === 0 ? 0 : -1 * whereMonday;\r\n\t\t\t\tlet nextNum = 35 - currentMonth.length - whereMonday > 0 ? 35 - currentMonth.length - whereMonday : 0;\r\n\t\t\t\tlet prevArr = prevNum < 0 ? prevMonth.slice(prevNum) : [];\r\n\t\t\t\tlet nextArr = nextMonth.slice(0, nextNum);\r\n\t\t\t\tmonthArr = [].concat(prevArr, currentMonth, nextArr);\r\n\t\t\t\tlet endArr = [];\r\n\t\t\t\tendArr = that.groupSliceMonthByFor(monthArr, 7);\r\n\t\t\t\t//添加区间高亮\r\n\t\t\t\tmonthArr.forEach(item=>{\r\n\t\t\t\t\titem.sectionLight = false;\r\n\t\t\t\t\tthat.dateNode.push(item)\r\n\t\t\t\t});\r\n\t\t\t\treturn {\r\n\t\t\t\t\tyear: year,\r\n\t\t\t\t\tmonth: month,\r\n\t\t\t\t\tdateTemplate: endArr\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//切割数组\r\n\t\t\tgroupSliceMonthByWhile(array, subGroupLength) {\r\n\t\t\t\tlet index = 0;\r\n\t\t\t\tlet newArray = [];\r\n\t\t\t\twhile (index < array.length) {\r\n\t\t\t\t\tnewArray.push(array.slice(index, index += subGroupLength));\r\n\t\t\t\t}\r\n\t\t\t\treturn newArray;\r\n\t\t\t},\r\n\t\t\t//切割数组\r\n\t\t\tgroupSliceMonthByFor(array, subGroupLength) {\r\n\t\t\t\tlet newArray = [];\r\n\t\t\t\tfor (let i = 0; i < array.length; i += subGroupLength) {\r\n\t\t\t\t\tnewArray.push(array.slice(i, i + subGroupLength));\r\n\t\t\t\t}\r\n\t\t\t\treturn newArray;\r\n\t\t\t},\r\n\t\t\t//判断年份类型 [四年一闰，百年不闰，四百年不闰]\r\n\t\t\tisLeapYear(year) {\r\n\t\t\t\treturn (year % 400 === 0) || (year % 100 !== 0 && year % 4 === 0);\r\n\t\t\t},\r\n\t\t\t//获取每个月的日期有多少，注意 month - [0-11]\r\n\t\t\tgetMonthCount(year, month) {\r\n\t\t\t\tlet arr = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n\t\t\t\tlet count = arr[month] || (this.isLeapYear(year) ? 29 : 28);\r\n\t\t\t\tlet arx = Array.from(new Array(count), (item, index) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tday: index + 1,\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tarx.forEach(item => {\r\n\t\t\t\t\tlet cnDate = month + 1 > 12 ? calendar.solar2lunar(year + 1, 1, item.day) : calendar.solar2lunar(year, month + 1,\r\n\t\t\t\t\t\titem.day);\r\n\t\t\t\t\tlet timeStamp = new Date(year, month, item.day).getTime();\r\n\t\t\t\t\tlet week = new Date(year, month, item.day * 1).getDay();\r\n\t\t\t\t\tif (week == 0 || week == 6) {\r\n\t\t\t\t\t\titem.weekType = 2\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.weekType = 1\r\n\t\t\t\t\t}\r\n\t\t\t\t\titem.weekDay = week;\r\n\t\t\t\t\titem.year = year;\r\n\t\t\t\t\titem.month = month;\r\n\t\t\t\t\titem.cnIdDay = cnDate.IDayCn;\r\n\t\t\t\t\titem.cnIdMonth = cnDate.IMonthCn;\r\n\t\t\t\t\titem.timeStamp = timeStamp;\r\n\t\t\t\t});\r\n\t\t\t\treturn arx;\r\n\t\t\t},\r\n\t\t\t//获取某年某月的1号是星期几，这里要注意的是JS 的 API getDay() 是从[日-六]（0-6），返回number\r\n\t\t\tgetWeekDay(year, month) {\r\n\t\t\t\tlet date = new Date(year, month, 1);\r\n\t\t\t\treturn date.getDay();\r\n\t\t\t},\r\n\t\t\t//获取上个月的天数\r\n\t\t\tgetPrevMonthCount(year, month) {\r\n\t\t\t\tif (month === 0) {\r\n\t\t\t\t\treturn this.getMonthCount(year - 1, 11);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.getMonthCount(year, month - 1);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取下个月的天数\r\n\t\t\tgetNextMonthCount(year, month) {\r\n\t\t\t\tif (month === 11) {\r\n\t\t\t\t\treturn this.getMonthCount(year + 1, 0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.getMonthCount(year, month + 1);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//判断是否为今天\r\n\t\t\tjudgeToday(year, month, day) {\r\n\t\t\t\tlet d = new Date(year, month, day);\r\n\t\t\t\tlet todaysDate = new Date();\r\n\t\t\t\tif (d.setHours(0, 0, 0, 0) == todaysDate.setHours(0, 0, 0, 0)) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t.my-calendar {\r\n\t\twidth: 100%;\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\theight: 100vh;\r\n\t\toverflow: hidden;\r\n\t\toverflow-y: auto;\r\n\t\tbackground-color: #fff;\r\n\t\tpadding-bottom: 200rpx;\r\n\t\t.weeks {\r\n\t\t\twidth: 100%;\r\n\t\t\tposition: fixed;\r\n\t\t\tleft: 0;\r\n\t\t\ttop: 0;\r\n\t\t\theight: 80rpx;\r\n\t\t\tline-height: 80rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tborder-bottom: 1rpx solid #ccc;\r\n\t\t\tdisplay: flex;\r\n\t\t\tz-index: 1;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\t.weeks-item {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\twidth:calc(100% / 7);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.month {\r\n\t\t\twidth: 99%;\r\n\t\t\tmargin:0 auto;\r\n\t\t\tmargin-top: 100rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\t.month-item {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tmargin-bottom: 50rpx;\r\n\r\n\t\t\t\t.item-title {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\tline-height: 40rpx;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.item-list {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tmargin-top: 20rpx;\r\n\r\n\t\t\t\t\t.list-row {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\r\n\t\t\t\t\t\t.row-item {\r\n\t\t\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\t\t\twidth: calc(100% / 7);\r\n\t\t\t\t\t\t\theight: 100rpx;\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\tjustify-content: center;\r\n\r\n\t\t\t\t\t\t\t.row-item-inner {\r\n\t\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\t\theight:100%;\r\n\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\t\t\tborder-radius: 0;\r\n\t\t\t\t\t\t\t\t&.no-work-day {\r\n\t\t\t\t\t\t\t\t\t.day {\r\n\t\t\t\t\t\t\t\t\t\tcolor: #38f;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t.cnDay {\r\n\t\t\t\t\t\t\t\t\t\tcolor: #38f;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t&.check-day{\r\n\t\t\t\t\t\t\t\t\tbackground-color: #38f;\r\n\t\t\t\t\t\t\t\t\t.day {\r\n\t\t\t\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t.cnDay {\r\n\t\t\t\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t&.hotel-start{\r\n\t\t\t\t\t\t\t\t\tbackground-color: #38f;\r\n\t\t\t\t\t\t\t\t\t.day {\r\n\t\t\t\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t.cnDay {\r\n\t\t\t\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t&.hotel-section{\r\n\t\t\t\t\t\t\t\t\tbackground-color: #bce8ff;\r\n\t\t\t\t\t\t\t\t\t.day {\r\n\t\t\t\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t.cnDay {\r\n\t\t\t\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t&.hotel-end{\r\n\t\t\t\t\t\t\t\t\tbackground-color: #38f;\r\n\t\t\t\t\t\t\t\t\t.day {\r\n\t\t\t\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t.cnDay {\r\n\t\t\t\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t.day {\r\n\t\t\t\t\t\t\t\t\tcolor: #000;\r\n\t\t\t\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t.cnDay {\r\n\t\t\t\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\t\t\t\tmargin-top: 10rpx;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my-calendar.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my-calendar.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1614601356342\n      var cssReload = require(\"D:/hub-idea/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}